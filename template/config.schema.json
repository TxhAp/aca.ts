{
  "type": "object",
  "properties": {
    "orm": {
      "type": "string",
      "description": "orm文件名（可以是文件夹名），如果有多个，则使用数组表示"
    },
    "database": {
      "type": "object",
      "description": "数据库相关配置，默认使用(.), 如果有多个数据库，在此自行添加",
      "properties": {
        "default": {
          "$ref": "#/$defs/database"
        }
      },
      "additionalProperties": {
        "$ref": "#/$defs/database"
      }
    },
    "serverApps": {
      "type": "object",
      "description": "服务器端应用配置，应用程序的目录名作为键",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "apiDir": {
            "type": "string",
            "description": "存放自动生成的api的目录名称，默认；为：src/aca.server"
          },
          "allowRPCClientApi": {
            "type": "boolean",
            "description": "是否允许生成前端访问的api"
          }
        }
      }
    },
    "clientApps": {
      "type": "object",
      "description": "客户端应用程序配置，应用程序的目录名作为键",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "apiDir": {
            "type": "string",
            "description": "存放自动生成的api的目录名称，默认；为：src/aca.client"
          },
          "allowRPCs": {
            "type": "array",
            "description": "允许该应用程序访问后端RPC的服务器列表"
          }
        }
      }
    }
  },
  "$defs": {
    "database": {
      "type": "object",
      "description": "数据库的配置的相关信息，数据库地址支持环境变量",
      "properties": {
        "tableNameWithNamespace": {
          "type": "boolean"
        },
        "onlyApi": {
          "type": "boolean"
        },
        "driver": {
          "type": "string",
          "enum": [
            "pg",
            "mysql",
            "BetterSqlite3"
          ]
        },
        "envConnection": {
          "type": [
            "string",
            "object"
          ]
        },
        "connection": {
          "type": [
            "string",
            "object"
          ]
        },
        "idDefaultType": {
          "type": "string",
          "description": "id的默认类型",
          "enum": [
            "cuid",
            "uuid",
            "autoincrement",
            "string",
            "int"
          ]
        },
        "foreignKeyConstraint": {
          "type": "boolean",
          "description": "数据库是否需要外键约束"
        },
        "onUpdate": {
          "type": "string",
          "description": "当主键被修改时，外键的默认操作",
          "enum": [
            "cascade",
            "set null",
            "restrict",
            "no action"
          ]
        },
        "onDelete": {
          "type": "string",
          "description": "当主键被删除时，外键的默认操作",
          "enum": [
            "cascade",
            "set null",
            "restrict",
            "no action"
          ]
        }
      }
    }
  }
}